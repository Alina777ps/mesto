(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e.title,this._image=e.image,this._templateElement=n,this._handleCardClick=r}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateElement).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".element__mask-group"),this._cardImage.src=this._image,this._cardImage.alt=this._title,this._element.querySelector(".element__title").textContent=this._title,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var t=this;this._element.querySelector(".element__trash").addEventListener("click",(function(){t._element.remove()})),this._element.querySelector(".element__like-button").addEventListener("click",(function(t){t.target.classList.toggle("element__like-button_active")})),this._cardImage.addEventListener("click",(function(){return t._handleCardClick(t._title,t._image)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),r={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._buttonSave=this._formElement.querySelector(this._config.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector))}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));e.classList.add(this._config.errorClass),e.textContent=t.validationMessage,t.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));e.classList.remove(this._config.errorClass),e.textContent="",t.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonSave.classList.add(this._config.inactiveButtonClass),this._buttonSave.disabled=!0):(this._buttonSave.classList.remove(this._config.inactiveButtonClass),this._buttonSave.disabled=!1)}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var a=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._selectorPopup=e,this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._selectorPopup.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._selectorPopup.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._selectorPopup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup_opened")&&t.close(),e.target.classList.contains("popup__close-icon")&&t.close()}))}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=d(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},v.apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function h(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,n=[{key:"open",value:function(t,e){v(_(u.prototype),"open",this).call(this),this._cardImage=document.querySelector(".element__mask-group"),t.src=this._cardImage.src,e.alt=this._cardImage.alt,e.textContent=document.querySelector(".element__title").textContent}},{key:"close",value:function(){v(_(u.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){v(_(u.prototype),"setEventListeners",this).call(this)}}],n&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=j(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},E.apply(this,arguments)}function j(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function P(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(r);if(o){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return P(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._sabmitForm=e,n._form=n._selectorPopup.querySelector(".popup__form"),n._inputs=Array.from(document.querySelectorAll(".popup__input")),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputValues={},this._inputs.forEach((function(e){t._inputValues[e.name]=e.value})),this._inputValues}},{key:"setEventListeners",value:function(){var t=this;E(O(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._sabmitForm(t._getInputValues()),t.close()}))}},{key:"close",value:function(){E(O(u.prototype),"close",this).call(this),this._form.reset()}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var q=function(){function t(e){var n=e.name,r=e.job;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n,this._job=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(t,e){this._name.textContent=t,this._job.textContent=e}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),T=document.querySelector(".popup-edit-profile"),x=document.querySelector(".popup-add-profile"),R=document.querySelector(".popup-image"),B=document.forms.popupFormEdit,V=document.forms.popupFormAddItem,A=document.querySelector(".profile__edit-button"),D=document.querySelector(".profile__add-button"),F=document.querySelector(".popup__input_type_name"),U=document.querySelector(".popup__input_type_job"),z=document.querySelector(".profile__title"),M=document.querySelector(".profile__subtitle"),N=document.querySelector(".elements"),G=document.querySelector(".popup__mask-group"),H=document.querySelector(".popup__caption"),J=new u(r,B);J.enableValidation();var K=new u(r,V);K.enableValidation();var Q=new g(R);function W(){Q.open(G,H)}function X(t){return new n(t,"#template",W).generateCard()}Q.setEventListeners();var Y=new a({items:[{title:"Архыз",image:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{title:"Челябинская область",image:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{title:"Иваново",image:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{title:"Камчатка",image:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{title:"Холмогорский район",image:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{title:"Байкал",image:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(t){Y.addItem(X(t))}},N);Y.renderItems();var Z=new L(x,(function(t){Y.addItem(X(t))}));D.addEventListener("click",(function(){K.resetValidation(),Z.open()})),Z.setEventListeners();var $=new q({name:z,job:M}),tt=new L(T,(function(t){$.setUserInfo(t.name,t.job),tt.close()}));A.addEventListener("click",(function(){J.resetValidation();var t=$.getUserInfo(),e=t.name,n=t.job;F.value=e,U.value=n,tt.open()})),tt.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTJGLEVBQW9CYSxrQkFFcEIsTUFBc0JDLEVBQWFHLGNBQTNCeEMsRUFBSSxFQUFKQSxLQUFNTSxFQUFHLEVBQUhBLElBQ2RVLEVBQVVmLE1BQVFELEVBQ2xCaUIsRUFBU2hCLE1BQVFLLEVBQ2pCZ0MsR0FBYVYsTUFDZixJQUlBVSxHQUFhUCxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29wbW9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29wbW9uZW50cy92YWxpZGF0aW9uQ29uZmlnLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29wbW9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29wbW9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29wbW9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvcG1vbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb3Btb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb3Btb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy91dGlscy9pbml0aWFsQ2FyZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVFbGVtZW50LCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IGRhdGEudGl0bGU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSBkYXRhLmltYWdlO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlRWxlbWVudCA9IHRlbXBsYXRlRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2tcclxuICAgIH1cclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVFbGVtZW50KVxyXG4gICAgICAgIC5jb250ZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19tYXNrLWdyb3VwJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcblxyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190cmFzaFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKX0pO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX3RpdGxlLCB0aGlzLl9pbWFnZSkpXHJcbiAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcblxyXG4gICAgICBcclxuXHJcbiAgICAgIFxyXG4gICAgXHJcbiAgICBcclxuIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGUnXHJcbiAgfTsiLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uU2F2ZSA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTsgICBcclxuICAgIH1cclxuXHJcbiAgICAvL9C/0L7QutCw0LfQsNGC0Ywg0L7RiNC40LHQutGDINCy0LLQvtC00LBcclxuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG5cclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG59XHJcbi8v0YHQutGA0YvRgtGMINC+0YjQuNCx0LrRgyDQstCy0L7QtNCwXHJcbl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn1cclxuLy/Qv9GA0L7QstC10YDQutCwINC/0YDQsNCy0LjQu9GM0L3QvtGB0YLQuCDQstCy0L7QtNCwXHJcbl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4vL9C90LXQstCw0LvQuNC00L3Ri9C5INCy0LLQvtC0XHJcbl9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbn1cclxuXHJcbi8v0L7Rh9C40YHRgtC60LAg0L7RiNC40LHQvtC6INC4INGD0L/RgNCw0LLQu9C10L3QuNC1INC60L3QvtC/0LrQvtC5IFxyXG5yZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgfSlcclxufVxyXG5cclxuLy/Qv9C10YDQutC70Y7Rh9Cw0YLQtdC70Ywg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuFxyXG5fdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICB0aGlzLl9idXR0b25TYXZlLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvblNhdmUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9idXR0b25TYXZlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvblNhdmUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vL9C/0YDQvtGB0LvRg9GI0LjQstCw0YLQtdGMINGB0L7QsdGL0YLQuNC5XHJcbl9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG4vL9Cy0LrQu9GO0YfQuNGC0Ywg0LLQsNC70LjQtNCw0YbQuNGOXHJcbmVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG59XHJcblxyXG59XHJcblxyXG5cclxuXHJcbiAgXHJcbiAgXHJcbiAgIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcclxuICAgICAgICAvL9C80LDRgdGB0LjQsiDQtNCw0L3QvdGL0YUsINC60L7RgtC+0YDRi9C1INC90YPQttC90L4g0LTQvtCx0LDQstC40YLRjCDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIC8v0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC+0YLQstC10YfQsNC10YIg0LfQsCDRgdC+0LfQtNCw0L3QuNC1INC4INC+0YLRgNC40YHQvtCy0LrRgyDQtNCw0L3QvdGL0YUg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICAvL9GB0LXQu9C10LrRgtC+0YAg0LrQvtC90YLQtdC50L3QtdGA0LAsINCyINC60L7RgtC+0YDRi9C5INC90YPQttC90L4g0LTQvtCx0LDQstC70Y/RgtGMINGB0L7Qt9C00LDQvdC90YvQtSDRjdC70LXQvNC10L3RgtGLXHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7ICBcclxuICAgIC8vINCy0YvQt9GL0LLQsNC10LwgcmVuZGVyZXIsINC/0LXRgNC10LTQsNCyIGl0ZW1cclxuICAgICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yUG9wdXAgPSBzZWxlY3RvclBvcHVwO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9zZWxlY3RvclBvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9zZWxlY3RvclBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3JQb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlbmVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlLWljb25cIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAgICAgXHJcbiAgICAgXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4ocG9wdXBJbWFnZSwgcG9wdXBUaXRsZSkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbWFzay1ncm91cCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBvcHVwSW1hZ2Uuc3JjID0gdGhpcy5fY2FyZEltYWdlLnNyYztcclxuICAgICAgICBwb3B1cFRpdGxlLmFsdCA9IHRoaXMuX2NhcmRJbWFnZS5hbHQ7XHJcbiAgICAgICAgcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwLCBzYWJtaXRGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XHJcbiAgICAgICAgdGhpcy5fc2FibWl0Rm9ybSA9IHNhYm1pdEZvcm07XHJcbiAgICAgICAgLy90aGlzLl9mb3JtID0gZG9jdW1lbnQuZm9ybXMudGhpcy5fc2VsZWN0b3JQb3B1cDtcclxuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fc2VsZWN0b3JQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG4gICAgfVxyXG4vL9GB0L7QsdC40YDQsNC10YIg0LTQsNC90L3Ri9C1INCy0YHQtdGFINC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge31cclxuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlc1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLXHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLl9zYWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYiA9IGpvYjtcclxuICAgIH1cclxuLy/QstC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbi8v0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuICAgIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGpvYjtcclxuICAgIH1cclxufVxyXG4iLCIvL9C40LzQv9C+0YDRgtGLXHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvcG1vbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi4vdXRpbHMvaW5pdGlhbENhcmRzLmpzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi4vY29wbW9uZW50cy92YWxpZGF0aW9uQ29uZmlnLmpzXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29wbW9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb3Btb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb3Btb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCJcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvcG1vbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvcG1vbmVudHMvVXNlckluZm8uanNcIjtcclxuXHJcbi8v0L/QvtC/0LDQv9GLXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWVkaXQtcHJvZmlsZVwiKTtcclxuY29uc3QgcG9wdXBBZGRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1hZGQtcHJvZmlsZVwiKTtcclxuY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtaW1hZ2VcIik7XHJcbi8v0YTQvtGA0LzRiyDQv9C+0L/QsNC/0L7QslxyXG5jb25zdCBwb3B1cEZvcm1FZGl0ID0gZG9jdW1lbnQuZm9ybXMucG9wdXBGb3JtRWRpdDtcclxuY29uc3QgcG9wdXBGb3JtQWRkSXRlbSA9IGRvY3VtZW50LmZvcm1zLnBvcHVwRm9ybUFkZEl0ZW07XHJcbi8v0LrQvdC+0L/QutC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0Lgg0LTQvtCx0LDQstC70LXQvdC40Y9cclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuLy/QuNC90L/Rg9GC0Ysg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xyXG5jb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfam9iXCIpO1xyXG4vL9C/0L7Qu9GPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XHJcbmNvbnN0IHByb2ZpbGVTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XHJcblxyXG5jb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XHJcblxyXG5jb25zdCBwb3B1cE1hc2tHcm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX21hc2stZ3JvdXBcIik7XHJcbmNvbnN0IHBvcHVwQ2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcblxyXG4vL9Cy0LDQu9C40LTQsNGG0LjRj1xyXG5jb25zdCB2YWxpZGF0aW9uUG9wdXBFZGl0ID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBGb3JtRWRpdCk7XHJcbnZhbGlkYXRpb25Qb3B1cEVkaXQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgdmFsaWRhdGlvblBvcHVwQWRkID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBGb3JtQWRkSXRlbSk7XHJcbnZhbGlkYXRpb25Qb3B1cEFkZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5cclxuLy/QvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINGBINC60LDRgNGC0LjQvdC60L7QuVxyXG5jb25zdCBuZXdQb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2UpO1xyXG5cclxuZnVuY3Rpb24gb3BlbkltYWdlKCkge1xyXG4gIG5ld1BvcHVwSW1hZ2Uub3Blbihwb3B1cE1hc2tHcm91cCwgcG9wdXBDYXB0aW9uKTtcclxufVxyXG5cclxubmV3UG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuIFxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIjdGVtcGxhdGVcIiwgb3BlbkltYWdlKS5nZW5lcmF0ZUNhcmQoKTtcclxuICByZXR1cm4gY2FyZDtcclxufVxyXG5cclxuLy/QvtGC0YDQuNGB0L7QstC60LAg0LrQsNGA0YLQvtGH0LXQuiDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LjQtyDQvNCw0YHRgdC40LLQsFxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHsgaXRlbXM6IGluaXRpYWxDYXJkcywgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKVxyXG4gIH0gfSwgZWxlbWVudHMpO1xyXG4gIGNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG4vL9C/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y9cclxuY29uc3QgbmV3UG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZFByb2ZpbGUsIChpdGVtKSA9PiB7XHJcbiAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKVxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cEFkZCgpIHtcclxuICB2YWxpZGF0aW9uUG9wdXBBZGQucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgbmV3UG9wdXBBZGQub3BlbigpO1xyXG59XHJcblxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cEFkZCk7XHJcblxyXG5uZXdQb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbi8v0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPXHJcbmNvbnN0IGVkaXRVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IG5hbWU6IHByb2ZpbGVUaXRsZSwgam9iOiBwcm9maWxlU3VidGl0bGUgfSk7XHJcblxyXG5mdW5jdGlvbiBmb3JtVmFsdWVzKHZhbHVlKSB7XHJcbiAgZWRpdFVzZXJJbmZvLnNldFVzZXJJbmZvKHZhbHVlLm5hbWUsIHZhbHVlLmpvYik7XHJcbiAgbmV3UG9wdXBFZGl0LmNsb3NlKCk7XHJcbn1cclxuXHJcbmNvbnN0IG5ld1BvcHVwRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWRpdFByb2ZpbGUsIGZvcm1WYWx1ZXMpO1xyXG5cclxuZnVuY3Rpb24gb3BlblBvcHVwRWRpdCgpIHtcclxuICB2YWxpZGF0aW9uUG9wdXBFZGl0LnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIC8vZWRpdFVzZXJJbmZvLmdldFVzZXJJbmZvKG5hbWVJbnB1dCwgam9iSW5wdXQpO1xyXG4gIGNvbnN0IHsgbmFtZSwgam9iIH0gPSBlZGl0VXNlckluZm8uZ2V0VXNlckluZm8oKVxyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWVcclxuICBqb2JJbnB1dC52YWx1ZSA9IGpvYlxyXG4gIG5ld1BvcHVwRWRpdC5vcGVuKCk7XHJcbn1cclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cEVkaXQpO1xyXG5cclxubmV3UG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7IiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICfQkNGA0YXRi9C3JyxcclxuICAgICAgaW1hZ2U6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ9CY0LLQsNC90L7QstC+JyxcclxuICAgICAgaW1hZ2U6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxyXG4gICAgICBpbWFnZTogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgICB9XHJcbiAgXTtcclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVFbGVtZW50IiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl90aXRsZSIsInRpdGxlIiwiX2ltYWdlIiwiaW1hZ2UiLCJfdGVtcGxhdGVFbGVtZW50IiwiX2hhbmRsZUNhcmRDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJldmVudCIsInRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uU2F2ZSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJTZWN0aW9uIiwiY29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInNlbGVjdG9yUG9wdXAiLCJfc2VsZWN0b3JQb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXBJbWFnZSIsInBvcHVwVGl0bGUiLCJQb3B1cFdpdGhGb3JtIiwic2FibWl0Rm9ybSIsIl9zYWJtaXRGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2lucHV0VmFsdWVzIiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJqb2IiLCJfbmFtZSIsIl9qb2IiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBBZGRQcm9maWxlIiwicG9wdXBGb3JtRWRpdCIsImZvcm1zIiwicG9wdXBGb3JtQWRkSXRlbSIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVTdWJ0aXRsZSIsImVsZW1lbnRzIiwicG9wdXBNYXNrR3JvdXAiLCJwb3B1cENhcHRpb24iLCJ2YWxpZGF0aW9uUG9wdXBFZGl0IiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRpb25Qb3B1cEFkZCIsIm5ld1BvcHVwSW1hZ2UiLCJvcGVuSW1hZ2UiLCJvcGVuIiwiY3JlYXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJuZXdQb3B1cEFkZCIsInJlc2V0VmFsaWRhdGlvbiIsImVkaXRVc2VySW5mbyIsIm5ld1BvcHVwRWRpdCIsInNldFVzZXJJbmZvIiwiZ2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9